â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  ğŸ  CARTA CONTEMPLADA API - PROJETO COMPLETO ğŸ              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ ESTRUTURA DO PROJETO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Carta contemplada API/
â”‚
â”œâ”€â”€ ğŸ“„ README.md                    â† COMECE AQUI! (Guia completo)
â”œâ”€â”€ ğŸ“„ TECNICO.md                   â† DocumentaÃ§Ã£o tÃ©cnica profunda
â”œâ”€â”€ ğŸ“„ CHECKLIST.md                 â† Checklist de implementaÃ§Ã£o
â”œâ”€â”€ ğŸ“„ ESTE_ARQUIVO.txt             â† Overview do projeto
â”œâ”€â”€ .gitignore                      â† Git ignore
â”‚
â”œâ”€â”€ ğŸ”§ backend/                     â† Python + FastAPI
â”‚   â”œâ”€â”€ main.py                     â† API REST (nÃºcleo)
â”‚   â”œâ”€â”€ criar_exemplo_cotas.py      â† Gera dados de teste
â”‚   â””â”€â”€ requirements.txt            â† DependÃªncias (pip install)
â”‚
â”œâ”€â”€ ğŸ¨ frontend/                    â† HTML + CSS + JavaScript
â”‚   â””â”€â”€ index.html                  â† Site completo (1 arquivo)
â”‚
â”œâ”€â”€ ğŸ“Š dados/                       â† Planilha (CMS do sistema)
â”‚   â””â”€â”€ cotas_exemplo.csv           â† Exemplo de dados
â”‚
â””â”€â”€ âš¡ guia_rapido.py              â† Menu interativo


ğŸš€ QUICK START (3 PASSOS)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£  Abra Terminal / PowerShell e vÃ¡ atÃ© a pasta do projeto:
    cd "c:\Users\gdepa\Desktop\programas\Carta contemplada API"

2ï¸âƒ£  Instale dependÃªncias:
    cd backend
    pip install -r requirements.txt
    python criar_exemplo_cotas.py     (â† Gera dados de teste)

3ï¸âƒ£  Inicie o backend:
    python main.py

    VocÃª verÃ¡:
    ğŸ“ API rodando em: http://localhost:8000
    ğŸ“š DocumentaÃ§Ã£o: http://localhost:8000/docs

4ï¸âƒ£  Abra o site no navegador:
    Arquivo: frontend/index.html (abra direto no navegador)
    Ou: python -m http.server 8080 (em frontend/)
    Depois: http://localhost:8080


ğŸ¯ TECNOLOGIAS UTILIZADAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BACKEND                          FRONTEND
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Python 3.9+                   âœ… HTML 5
âœ… FastAPI (modern framework)    âœ… CSS 3 (Grid, Flexbox)
âœ… Uvicorn (ASGI server)        âœ… JavaScript puro (Fetch API)
âœ… Pandas (Excel/CSV reading)    âœ… Sem frameworks (zero deps)
âœ… Pydantic (data validation)    
âœ… CORS middleware               


ğŸ“Š COMO FUNCIONA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Fluxo de Dados:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PLANILHA (Excel/CSV)                         â”‚
â”‚           Ãšnica fonte de dados - Seu "CMS"                      â”‚
â”‚    Colunas: id, tipo, credito, parcela, entrada,               â”‚
â”‚             status, administradora, grupo                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    Backend lÃª (pandas)
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   API REST (FastAPI)                             â”‚
â”‚    GET /cotas          â†’ Lista cotas disponÃ­veis                â”‚
â”‚    GET /cotas?status=vendida â†’ Cotas vendidas                  â”‚
â”‚    POST /reload-cache  â†’ ForÃ§a recarregamento                  â”‚
â”‚    GET /status         â†’ Info do cache                          â”‚
â”‚    GET /docs           â†’ DocumentaÃ§Ã£o Swagger                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    Frontend fetch
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SITE NO NAVEGADOR (HTML/CSS/JS)                     â”‚
â”‚    Renderiza cotas dinamicamente                                â”‚
â”‚    Busca em tempo real                                          â”‚
â”‚    Auto-reload a cada 60 segundos                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ”Œ ENDPOINTS DA API
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

GET /cotas
  â””â”€ Retorna cotas com status = "disponivel"
  â””â”€ Exemplo: http://localhost:8000/cotas
  â””â”€ Resposta: { "total": 6, "cotas": [...], "timestamp": "..." }

GET /cotas?status=vendida
  â””â”€ Retorna apenas cotas vendidas
  â””â”€ Ãštil para mostrar histÃ³rico

GET /cotas/{id}
  â””â”€ Detalhe de uma cota especÃ­fica
  â””â”€ Exemplo: http://localhost:8000/cotas/COT001

POST /reload-cache
  â””â”€ ForÃ§a releitura da planilha (sem aguardar 60s)
  â””â”€ Use quando editar a planilha

GET /status
  â””â”€ Status da API e informaÃ§Ãµes de cache

GET /docs
  â””â”€ DocumentaÃ§Ã£o Swagger interativa (teste endpoints!)

GET /
  â””â”€ InformaÃ§Ãµes gerais da API


ğŸ“‹ MODELO DE DADOS (Planilha)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Seu arquivo Excel/CSV deve ter essas colunas (exatas):

â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚  tipo  â”‚ credito â”‚ parcela â”‚ entrada â”‚ status  â”‚ administradora â”‚  grupo   â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚COT â”‚ImÃ³vel  â”‚250000   â”‚120      â”‚25000    â”‚disponÃ­ â”‚ABC ImÃ³veis     â”‚Grupo A   â”‚
â”‚001 â”‚        â”‚         â”‚         â”‚         â”‚vel     â”‚                â”‚          â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚COT â”‚ImÃ³vel  â”‚300000   â”‚180      â”‚30000    â”‚vendida â”‚XYZ CrÃ©dito     â”‚Grupo B   â”‚
â”‚002 â”‚        â”‚         â”‚         â”‚         â”‚        â”‚                â”‚          â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Regras:
  âœ… Nomes de coluna em minÃºsculas (id, nÃ£o ID)
  âœ… Status: "disponivel" ou "vendida" (case-insensitive)
  âœ… NÃºmeros: usar . ou , como decimal
  âœ… Cotas "vendida" nÃ£o aparecem no site
  âœ… ID Ã© obrigatÃ³rio


ğŸ”„ CICLO DE USO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Para ADICIONAR uma cota:
  1. Abra dados/cotas.xlsx
  2. Adicione nova linha com os dados
  3. Salve o arquivo
  4. No site, clique "â†» Recarregar" (ou aguarde 60s)
  5. Nova cota aparece!

Para REMOVER uma cota:
  1. Abra dados/cotas.xlsx
  2. Delete a linha da cota
  3. Salve o arquivo
  4. Clique "â†» Recarregar"
  5. Cota some do site!

Para EDITAR uma cota:
  1. Abra dados/cotas.xlsx
  2. Mude o valor desejado
  3. Salve o arquivo
  4. Clique "â†» Recarregar"
  5. Novo valor aparece!

Para MARCAR COMO VENDIDA:
  1. Abra dados/cotas.xlsx
  2. Mude "status" de "disponivel" para "vendida"
  3. Salve o arquivo
  4. Clique "â†» Recarregar"
  5. Cota desaparece (vendidas nÃ£o aparecem por padrÃ£o)


âš™ï¸ CONFIGURAÃ‡ÃƒO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Para mudar a duraÃ§Ã£o do cache (padrÃ£o 60 segundos):
  
  Abra backend/main.py
  Procure por: CACHE_DURATION_SECONDS = 60
  Mude para: CACHE_DURATION_SECONDS = 120  (2 minutos, por exemplo)
  
Para usar CSV em vez de Excel:
  
  Abra backend/main.py
  Procure por: ARQUIVO_PLANILHA = DADOS_DIR / "cotas.xlsx"
  Mude para: ARQUIVO_PLANILHA = DADOS_DIR / "cotas.csv"


ğŸ› TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ "Planilha nÃ£o encontrada"
  âœ… Execute: python criar_exemplo_cotas.py

âŒ "Colunas obrigatÃ³rias faltando"
  âœ… Verifique se sua planilha tem exatamente: id, tipo, credito, 
     parcela, entrada, status, administradora, grupo

âŒ "ConexÃ£o recusada" no site
  âœ… Verifique se backend estÃ¡ rodando (python main.py)
  âœ… Acesse http://localhost:8000/status

âŒ "CORS error"
  âœ… Abra frontend/index.html direto (nÃ£o via servidor externo)
  âœ… Ou use: python -m http.server 8080

âŒ Mudei a planilha mas o site nÃ£o atualizou
  âœ… Clique "â†» Recarregar" no site
  âœ… Ou aguarde 60 segundos (cache expire)


ğŸ“š DOCUMENTAÃ‡ÃƒO COMPLETA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Este arquivo (SumÃ¡rio):
  â†’ VisÃ£o geral e quick start

README.md:
  â†’ Guia completo com todos os detalhes
  â†’ Como instalar, rodar, usar endpoints
  â†’ Deploy em produÃ§Ã£o
  â†’ Exemplos de uso

TECNICO.md:
  â†’ Arquitetura detalhada
  â†’ Fluxo de dados
  â†’ Performance e benchmarks
  â†’ ExtensÃµes e customizaÃ§Ãµes
  â†’ Troubleshooting tÃ©cnico

CHECKLIST.md:
  â†’ O que foi implementado
  â†’ Status de cada funcionalidade
  â†’ Requisitos atendidos


ğŸ“ APRENDIZADO E EXTENSÃƒO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Este projeto Ã© um excelente ponto de partida para aprender:
  âœ… FastAPI (framework moderno)
  âœ… REST API design
  âœ… Cache em aplicaÃ§Ãµes
  âœ… ValidaÃ§Ã£o de dados
  âœ… Fetch API (JavaScript)
  âœ… IntegraÃ§Ã£o frontend-backend

Para evoluir para produÃ§Ã£o:
  âœ… Adicionar autenticaÃ§Ã£o
  âœ… Banco de dados (PostgreSQL)
  âœ… WebSocket (real-time)
  âœ… Tests (pytest)
  âœ… Docker
  âœ… CI/CD (GitHub Actions)


ğŸš€ DEPLOY EM PRODUÃ‡ÃƒO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OpÃ§Ãµes gratuitas/baratas:

1. Heroku (grÃ¡tis com limitaÃ§Ãµes)
   - Copie arquivo Procfile para raiz
   - git push heroku main

2. PythonAnywhere (grÃ¡tis)
   - Upload via web console
   - Configure Web app

3. DigitalOcean ($4-6/mÃªs)
   - VPS bÃ¡sico + Gunicorn

Veja README.md para instruÃ§Ãµes completas!


ğŸ’¡ DICAS IMPORTANTES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. NÃ£o feche Excel enquanto backend estÃ¡ rodando
   â†’ Pode causar "arquivo locked"

2. Use nomes simples na planilha
   â†’ Evita problemas com encoding

3. Backup regular da planilha
   â†’ Use Git ou sincronizaÃ§Ã£o em nuvem

4. Monitore logs do backend
   â†’ Erros aparecem no console

5. Teste endpoints em /docs
   â†’ Swagger permite teste interativo

6. Use "â†» Recarregar" apÃ³s editar planilha
   â†’ ForÃ§a invalidaÃ§Ã£o do cache


ğŸ“ CONTATO / SUPORTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DÃºvidas? Consulte:
  1. README.md (guia principal)
  2. TECNICO.md (detalhes tÃ©cnicos)
  3. Logs do console (mensagens de erro)
  4. FastAPI docs: /docs (teste endpoints)
  5. Swagger UI: http://localhost:8000/docs


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… PROJETO PRONTO PARA USAR E EVOLUIR!

Desenvolvido com â¤ï¸ como MVP production-ready
VersÃ£o: 1.0.0 | Data: 29/01/2025 | Status: âœ… Completo

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
